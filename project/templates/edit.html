{% extends "base.html" %}

{% block script %}
    <script>
        window.onload = function() {

            var month = {{ month }};
            var day = {{ day }};
            var f = document.getElementById("f0");

            selectOption(f.elements["month"], month);
            selectOption(f.elements["day"], day);
        };

        function selectOption(obj, value) {
            for (var i = 0, len = obj.length; i < len; i++) {
                if (obj[i].value == value) {
                    obj[i].selected = true;
                    break;
                }
            }
        }
    </script>
{% endblock %}

{% block main %}
    <div class="detail_main">
        <h3>編集する？</h3>
        <form action="/edited" method="post" id="f0">
            <div class="form-group">
                <input type="text" class="name_form" autocomplete="off" name="name" placeholder="{{ name }}" maxlength="10" value="{{ name }}">
            </div>
            {% if not year == '' %}
                <div class="form-group">
                    <input type="number" class="add_form" autocomplete="off" name="year" placeholder="{{ year }}" min="1900" max="2022" maxlength="4" value="{{ year }}"> 年
                </div>
            {% else %}
                <div class="form-group">
                    <input type="number" class="add_form" autocomplete="off" name="year" placeholder="年(任意)" min="1900" max="2022" maxlength="4"> 年
                </div>
            {% endif %}
            <div class="form-group">
                <select class="add_form" name="month" placeholder="月" default="{{ month }}">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                </select> 月
            </div>
            <div class="form-group">
                <select class="add_form" name="day" placeholder="日" default="day">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                    <option value="13">13</option>
                    <option value="14">14</option>
                    <option value="15">15</option>
                    <option value="16">16</option>
                    <option value="17">17</option>
                    <option value="18">18</option>
                    <option value="19">19</option>
                    <option value="20">20</option>
                    <option value="21">21</option>
                    <option value="22">22</option>
                    <option value="23">23</option>
                    <option value="24">24</option>
                    <option value="25">25</option>
                    <option value="26">26</option>
                    <option value="27">27</option>
                    <option value="28">28</option>
                    <option value="29">29</option>
                    <option value="30">30</option>
                    <option value="31">31</option>
                </select> 日
            </div>
            <div class="form-group">
                <textarea class="memo_form" name="memo" cols="24" rows="10" maxlength="120">{{ memo }}</textarea>
            </div>
            <h6>※120文字以内(枠内に収まるぐらい)でお願いします</h6>
            <button class="btn_form" type="submit" name="edit" value="{{ edit_id }}">変更する</button>
        </form>
    </div>

{% endblock %}